# step_01_target_selection/run_target_analysis.py

import config
from utils.logger import LOGGER


def generate_target_selection_report():
    """Генерирует отчет в формате Markdown с обоснованием выбора мишени.
    Этот этап является исследовательским и требует ручного анализа литературы.
    Код здесь служит для документирования принятого решения.
    """
    LOGGER.info("Начало этапа 1: Выбор мишени и обоснование.")

    report_content = f"""
# Отчет по выбору мишени для терапии болезни Альцгеймера

**Дата:** 13072025
**Автор:** Квадрицепс

## 1. Анализ пространства мишеней

Болезнь Альцгеймера (БА) — многофакторное заболевание. Исторически основное внимание уделялось **амилоиду-бета (Aβ)** и **тау-белкам**. Однако клинические неудачи препаратов, нацеленных на них, стимулировали поиск альтернативных мишеней.

Современные перспективные направления включают:
- **Нейровоспаление:** Мишени, такие как TREM2 и рецепторы микроглии. [1, 8] Активация иммунной системы мозга играет ключевую роль в патогенезе.
- **Синаптическая дисфункция:** Белки, отвечающие за поддержание и пластичность синапсов.
- **Митохондриальная дисфункция:** Мишени, связанные с энергетическим метаболизмом клеток.
- **Киназы:** Ферменты, регулирующие множество клеточных процессов, включая фосфорилирование тау-белка.

## 2. Сравнение ключевых кандидатов

| Мишень | Преимущества | Недостатки | Доступность данных (ChEMBL/PDB) |
|---|---|---|---|
| **BACE1** | Ключевой фермент в производстве Aβ. [5] | Клинические испытания ингибиторов показали проблемы с безопасностью и эффективностью. [9, 10] | Высокая |
| **TREM2** | Генетически подтвержденная связь с риском БА. [1, 4] Участвует в клиренсе Aβ микроглией. [8] | Спорная роль (активация или ингибирование может быть полезной в разных стадиях). Структурные данные ограничены. [1, 3] | Средняя |
| **GSK-3β** | Участвует в гиперфосфорилировании тау. [2, 20] Связывает пути Aβ, воспаления и выживаемости клеток. [2, 6] | Множество физиологических функций, что создает риск побочных эффектов. | **Очень высокая** |
| **LRRK2** | Известна по болезни Паркинсона, но также связана с нейровоспалением в БА. | Менее изучена в контексте БА по сравнению с другими. | Средняя |

## 3. Обоснование выбора: GSK-3β (Glycogen Synthase Kinase 3 Beta)

Для данного хакатона в качестве мишени выбрана **GSK-3β (Glycogen Synthase Kinase 3 Beta)**.

**Аргументы в пользу выбора:**

1.  **Центральная роль в патогенезе:** GSK-3β является ключевым ферментом, катализирующим патологическое гиперфосфорилирование тау-белка, что приводит к образованию нейрофибриллярных клубков. [2, 20]
2.  **Связующее звено:** GSK-3β интегрирует несколько сигнальных путей, вовлеченных в БА, включая сигналинг инсулина, Wnt, и клеточную гибель. [2] Это делает ее привлекательной "узловой" мишенью.
3.  **Огромное количество данных:**
    *   **ChEMBL:** Для человеческого белка GSK-3β (`{config.CHOSEN_TARGET_ID}`) доступны тысячи записей об активности (IC50/Ki), что идеально для построения надежной QSAR-модели. [6, 7]
    *   **Protein Data Bank (PDB):** Существует множество кристаллических структур GSK-3β в комплексе с различными ингибиторами (например, `{config.CHOSEN_PDB_ID}`). [12] Это критически важно для молекулярного докинга и структурно-ориентированного дизайна.
4.  **Терапевтический потенциал:** Несмотря на риски, связанные с плейотропностью, разработка селективных ингибиторов GSK-3β остается активной областью исследований, что подтверждается свежими публикациями и патентами. [12, 16]

**Вывод:** GSK-3β представляет собой хорошо изученную мишень с богатым набором открытых данных, что делает ее идеальным кандидатом для in silico пайплайна в рамках хакатона. Это позволяет сосредоточиться на качестве моделирования и генерации, а не на решении проблемы нехватки данных.

## 4. Ссылки на литературу и патенты

- **Ключевые обзоры:** [2, 6, 12]
- **Данные по активности:** ChEMBL Target ID: {config.CHOSEN_TARGET_ID}
- **Структурные данные:** PDB ID: {config.CHOSEN_PDB_ID} (и многие другие)
- **Патенты (пример):** Поиск по "GSK-3 beta inhibitors Alzheimer's patent" на Google Patents показывает непрерывный интерес к данной мишени.

"""
    report_path = config.TARGET_REPORTS_DIR / "target_selection_report.md"
    with open(report_path, "w", encoding="utf-8") as f:
        f.write(report_content)

    LOGGER.info(f"Отчет по выбору мишени сохранен в: {report_path}")
    LOGGER.info(f"Выбранная мишень: GSK-3β (ChEMBL ID: {config.CHOSEN_TARGET_ID}, PDB ID: {config.CHOSEN_PDB_ID})")
    LOGGER.info("Этап 1 завершен.")


if __name__ == "__main__":
    generate_target_selection_report()
